ã€<script>
    // === æ•°æ®é…ç½® (ä¿æŒä¸å˜) ===
    const questions = [
        // ç»æµè½´
        { t: "åªæœ‰å›½å®¶æŒæ§æ ¸å¿ƒå‘½è„‰ï¼Œæ‰èƒ½é¿å…èµ„æœ¬å®¶æŠŠè·¯ç¯æŒ‚æ»¡ã€‚", cat: "ç»æµ", d: "econ", w: -1 },
        { t: "å¯Œäººç¨æ”¶å¤ªä½äº†ï¼Œä»–ä»¬å‘¼å¸çš„ç©ºæ°”éƒ½åº”è¯¥æŒ‰ç«‹æ–¹ç±³æ”¶è´¹æ¥è¡¥è´´ç©·äººã€‚", cat: "ç»æµ", d: "econ", w: -1 },
        { t: "åªè¦ä¸è¿æ³•ï¼Œä¼ä¸šè£å‘˜ã€å€’é—­éƒ½æ˜¯å¸‚åœºä¼˜èƒœåŠ£æ±°çš„è‡ªç„¶ç¾ã€‚", cat: "ç»æµ", d: "econ", w: 1 },
        { t: "æœ€ä½å·¥èµ„é™åˆ¶äº†è€æ¿é›‡ä½£æ›´å¤šäººçš„æ„æ„¿ï¼Œåº”è¯¥åºŸé™¤ã€‚", cat: "ç»æµ", d: "econ", w: 1 },
        { t: "åŒ»ç–—å’Œæ•™è‚²å¦‚æœå®Œå…¨ç§æœ‰åŒ–ï¼ŒæœåŠ¡è´¨é‡ç»å¯¹æ¯”ç°åœ¨å¥½ã€‚", cat: "ç»æµ", d: "econ", w: 1 },
        { t: "åœŸåœ°ç§æœ‰åŒ–æ˜¯ç¥åœ£ä¸å¯ä¾µçŠ¯çš„ï¼Œå³ä¾¿é‚£æ˜¯ç¥–ä¼ çš„è’åœ°ã€‚", cat: "ç»æµ", d: "econ", w: 1 },

        // å¤–äº¤è½´ (æ­£=å›½å®¶, è´Ÿ=å…¨çƒ)
        { t: "ä¸ºäº†å›½å®¶åˆ©ç›Šï¼Œæ’•æ¯å‡ å¼ å›½é™…æ¡çº¦å°±åƒæ’•æ¯åºŸçº¸ä¸€æ ·åˆç†ã€‚", cat: "å¤–äº¤", d: "dipl", w: 1 },
        { t: "çœŸç†åªåœ¨å¤§ç‚®çš„å°„ç¨‹ä¹‹å†…ï¼Œå£å¾„å³æ­£ä¹‰ã€‚", cat: "å¤–äº¤", d: "dipl", w: 1 },
        { t: "æ¯”èµ·æ‰€è°“çš„å›½é™…å½¢è±¡ï¼Œæˆ‘æ›´åœ¨ä¹æœ¬å›½å·¥äººçš„é¥­ç¢—æ˜¯å¦è¢«å¤–å›½äººæŠ¢èµ°ã€‚", cat: "å¤–äº¤", d: "dipl", w: 1 },
        { t: "æ°”å€™å˜æš–æ˜¯å…¨äººç±»çš„é—®é¢˜ï¼Œæˆ‘ä»¬åº”è¯¥ä¸»åŠ¨ç‰ºç‰²ä¸€éƒ¨åˆ†ç»æµåˆ©ç›Šæ¥é…åˆå›½é™…æ ‡å‡†ã€‚", cat: "å¤–äº¤", d: "dipl", w: -1 },
        { t: "å¤–æ¥ç§»æ°‘èƒ½å¸¦æ¥ä¸°å¯Œçš„ç¾é£Ÿå’Œæ–‡åŒ–ï¼Œæˆ‘ä»¬åº”è¯¥æ•å¼€å¤§é—¨ã€‚", cat: "å¤–äº¤", d: "dipl", w: -1 },
        { t: "çˆ±å›½ä¸»ä¹‰æœ‰æ—¶æ˜¯æµæ°“æœ€åçš„åº‡æŠ¤æ‰€ã€‚", cat: "å¤–äº¤", d: "dipl", w: -1 },

        // æ”¿æ²»è½´ (æ­£=æƒå¨, è´Ÿ=è‡ªç”±)
        { t: "ä¸ºäº†æŠ“æ•ç½ªçŠ¯ï¼Œæ”¿åºœåœ¨æ¯ä¸ªè·¯å£è£…æ»¡æ‘„åƒå¤´æ˜¯å®Œå…¨å¯ä»¥æ¥å—çš„ã€‚", cat: "æ”¿æ²»", d: "govt", w: 1 },
        { t: "ä¸€ä¸ªå¼ºæœ‰åŠ›çš„é¢†è¢–æ¯”å‡ ç™¾ä¸ªåµåµåš·åš·çš„è®®å‘˜æ›´èƒ½å¹²å®äº‹ã€‚", cat: "æ”¿æ²»", d: "govt", w: 1 },
        { t: "ä¹±ä¸–ç”¨é‡å…¸ï¼Œå¯¹äºæ‰°ä¹±ç¤¾ä¼šç§©åºçš„äººç»ä¸èƒ½æ‰‹è½¯ã€‚", cat: "æ”¿æ²»", d: "govt", w: 1 },
        { t: "æˆ‘èª“æ­»æå«ä½ è¯´è¯çš„æƒåˆ©ï¼Œå“ªæ€•ä½ è¯´çš„å…¨æ˜¯åºŸè¯ã€‚", cat: "æ”¿æ²»", d: "govt", w: -1 },
        { t: "æ”¿åºœä¸åº”è¯¥çŸ¥é“æˆ‘ä»Šå¤©æ™šä¸Šåƒäº†ä»€ä¹ˆï¼Œæˆ–è€…æˆ‘åœ¨ç½‘ä¸Šæµè§ˆäº†ä»€ä¹ˆã€‚", cat: "æ”¿æ²»", d: "govt", w: -1 },
        { t: "ä¸ºäº†æ‰€è°“çš„'å¤§å±€'ç‰ºç‰²ä¸ªäººåˆ©ç›Šï¼Œé€šå¸¸éƒ½æ˜¯å¿½æ‚ ã€‚", cat: "æ”¿æ²»", d: "govt", w: -1 },

        // ç¤¾ä¼šè½´ (æ­£=å®ˆæˆ, è´Ÿ=è¿›æ­¥)
        { t: "ä¼ ç»Ÿçš„å®¶åº­è§‚å¿µæ­£åœ¨å´©æºƒï¼Œè¿™ç»å¯¹æ˜¯ç¤¾ä¼šé“å¾·æ²¦ä¸§çš„å¼€å§‹ã€‚", cat: "ç¤¾ä¼š", d: "scty", w: 1 },
        { t: "å­¦æ ¡åº”è¯¥å¤šæ•™ç‚¹å°Šå¸ˆé‡é“ï¼Œå°‘æç‚¹é‚£äº›èŠ±é‡Œèƒ¡å“¨çš„æƒåˆ©æ•™è‚²ã€‚", cat: "ç¤¾ä¼š", d: "scty", w: 1 },
        { t: "è€ç¥–å®—ç•™ä¸‹çš„è§„çŸ©ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯æœ‰é“ç†çš„ã€‚", cat: "ç¤¾ä¼š", d: "scty", w: 1 },
        { t: "åŒæ€§æ‹ã€ä¸å…‹ã€ä¸å©šæ—éƒ½æ˜¯ä¸ªäººé€‰æ‹©ï¼Œå…³åˆ«äººå±äº‹ã€‚", cat: "ç¤¾ä¼š", d: "scty", w: -1 },
        { t: "ä¸ºäº†ç§‘å­¦è¿›æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥é€‚å½“æŒ‘æˆ˜ä¸€ä¸‹ä¼ ç»Ÿçš„ä¼¦ç†åº•çº¿ã€‚", cat: "ç¤¾ä¼š", d: "scty", w: -1 },
        { t: "æ€§åˆ«åªæ˜¯ä¸€ç§ç¤¾ä¼šå»ºæ„ï¼Œä¸åº”è¯¥é™åˆ¶äººçš„å‘å±•ã€‚", cat: "ç¤¾ä¼š", d: "scty", w: -1 },

        // ç”Ÿæ€è½´ (æ­£=å‘å±•, è´Ÿ=ç¯ä¿)
        { t: "ä¸ºäº†ä¿æŠ¤ä¸€åªçç¨€é’è›™è€Œå«åœç™¾äº¿çš„å¤§å·¥ç¨‹æ˜¯æ„šè ¢çš„ã€‚", cat: "ç”Ÿæ€", d: "envr", w: 1 },
        { t: "æŠ€æœ¯è¿›æ­¥è¿Ÿæ—©èƒ½è§£å†³æ±¡æŸ“é—®é¢˜ï¼Œç°åœ¨ä¸ç”¨çæ“å¿ƒã€‚", cat: "ç”Ÿæ€", d: "envr", w: 1 },
        { t: "é¥­éƒ½åƒä¸é¥±çš„æ—¶å€™è°ˆç¯ä¿ï¼Œå°±æ˜¯ä½•ä¸é£Ÿè‚‰ç³œã€‚", cat: "ç”Ÿæ€", d: "envr", w: 1 },
        { t: "ç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±ï¼Œå“ªæ€•GDPå€’é€€ä¹Ÿè¦ä¿ä½ç¯å¢ƒã€‚", cat: "ç”Ÿæ€", d: "envr", w: -1 },
        { t: "äººç±»æ˜¯åœ°çƒçš„ç™Œç»†èƒï¼Œåº”è¯¥å¤§å¹…å‡å°‘å·¥ä¸šæ´»åŠ¨ã€‚", cat: "ç”Ÿæ€", d: "envr", w: -1 },
        { t: "æˆ‘æ„¿æ„ä¸ºäº†å‡å°‘ç¢³æ’æ”¾è€Œæ”¾å¼ƒå¼€ç‡ƒæ²¹è½¦å’Œåƒç‰›è‚‰ã€‚", cat: "ç”Ÿæ€", d: "envr", w: -1 }
    ];

    let currentIdx = 0;
    let scores = { econ: 0, dipl: 0, govt: 0, scty: 0, envr: 0 };
    const maxPerDim = 12; 

    // === æ ¸å¿ƒé€»è¾‘ (ä¿æŒä¸å˜) ===
    function startQuiz() {
        document.getElementById('intro-view').style.display = 'none';
        document.getElementById('quiz-view').style.display = 'block';
        loadQuestion();
    }

    function loadQuestion() {
        const q = questions[currentIdx];
        const card = document.getElementById('q-card');
        card.style.opacity = 0;
        card.style.transform = "translateY(10px)";
        setTimeout(() => {
            document.getElementById('q-tag').innerText = `NO.${currentIdx + 1} / 30 Â· ${q.cat}`;
            document.getElementById('q-text').innerText = q.t;
            const pct = (currentIdx / questions.length) * 100;
            document.getElementById('progress-bar').style.width = `${pct}%`;
            card.style.opacity = 1;
            card.style.transform = "translateY(0)";
        }, 200);
    }

    function answer(val) {
        const q = questions[currentIdx];
        scores[q.d] += val * q.w;
        if (Math.abs(val) === 2) fireConfetti(0.3);
        currentIdx++;
        if (currentIdx < questions.length) {
            loadQuestion();
        } else {
            finishQuiz();
        }
    }

    function finishQuiz() {
        document.getElementById('quiz-view').style.display = 'none';
        document.getElementById('result-section').style.display = 'block';
        renderCharts();
        analyzeResult();
        fireConfetti(1.5);
    }

    function renderCharts() {
        const container = document.getElementById('chart-area');
        const dims = [
            { k:'econ', l:'è®¡åˆ’ç»æµ', r:'å¸‚åœºç»æµ' },
            { k:'dipl', l:'å…¨çƒä¸»ä¹‰', r:'å›½å®¶ä¸»ä¹‰' },
            { k:'govt', l:'è‡ªç”±æ„å¿—', r:'æƒå¨æ”¿åºœ' },
            { k:'scty', l:'ç¤¾ä¼šè¿›æ­¥', r:'ä¼ ç»Ÿå®ˆæˆ' },
            { k:'envr', l:'ç”Ÿæ€ä¼˜å…ˆ', r:'å‘å±•ä¼˜å…ˆ' }
        ];
        let html = '';
        dims.forEach(d => {
            let val = scores[d.k];
            let pctR = ((val + maxPerDim) / (maxPerDim * 2)) * 100;
            pctR = Math.max(5, Math.min(95, pctR));
            let pctL = 100 - pctR;
            html += `
            <div class="bar-row">
                <div class="bar-label left">${d.l}</div>
                <div class="track">
                    <div class="fill-l" style="width:${pctL}%">${Math.round(pctL)}%</div>
                    <div class="fill-r" style="width:${pctR}%">${Math.round(pctR)}%</div>
                </div>
                <div class="bar-label right">${d.r}</div>
            </div>`;
        });
        container.innerHTML = html;
    }

    // === æ·±åº¦æ¯’èˆŒåˆ†æé€»è¾‘ (å¤§å¹…æ‰©å……) ===
    function analyzeResult() {
        // æ ‡å‡†åŒ–å¾—åˆ† (-1.0 åˆ° 1.0)
        const s = {
            eco: scores.econ / maxPerDim, // è´Ÿ=è®¡åˆ’, æ­£=å¸‚åœº
            dip: scores.dipl / maxPerDim, // è´Ÿ=å…¨çƒ, æ­£=å›½å®¶
            gov: scores.govt / maxPerDim, // è´Ÿ=è‡ªç”±, æ­£=æƒå¨
            soc: scores.scty / maxPerDim, // è´Ÿ=è¿›æ­¥, æ­£=å®ˆæˆ
            env: scores.envr / maxPerDim  // è´Ÿ=ç¯ä¿, æ­£=å‘å±•
        };

        let title = "æœªçŸ¥ç”Ÿç‰©";
        let desc = "ä½ çš„æˆåˆ†è¿‡äºå¤æ‚ï¼Œè¿AIéƒ½çƒ§åäº† CPUã€‚";
        let person = "404 Not Found";

        // --- åˆ¤å®šé€»è¾‘å¼€å§‹ ---

        // 1. å·¥ä¸šå…š/å…¥å…³å­¦ (å¼ºæƒå¨ + å¼ºå›½å®¶ + å¼ºå‘å±•)
        if (s.gov > 0.3 && s.dip > 0.4 && s.env > 0.1) {
            title = "æ˜Ÿè¾°å¤§æµ·çš„å·¥ä¸šå…š";
            desc = "ä½ ç¬ƒä¿¡çœŸç†åªåœ¨å¤§ç‚®çš„å°„ç¨‹ä¹‹å†…ï¼Œå¯¹äºè¥¿æ–¹é‚£å¥—â€œæ™®ä¸–ä»·å€¼â€å—¤ä¹‹ä»¥é¼»ï¼Œè®¤ä¸ºé‚£ä¸è¿‡æ˜¯è¡°è½å¸å›½çš„é®ç¾å¸ƒã€‚åœ¨ä½ çœ¼ä¸­ï¼Œè‡ªç”±æ˜¯å°å¸ƒå°”ä¹”äºšçš„æ— ç—…å‘»åŸï¼Œåªæœ‰é’¢é“æ´ªæµã€èˆªæ¯ä¸‹æ°´å’ŒGDPå¢é•¿æ‰æ˜¯ç¡¬é“ç†ã€‚ä½ å¯èƒ½ç»å¸¸åœ¨æ·±å¤œæ€è€ƒå¤§å›½åšå¼ˆçš„æ£‹å±€ï¼Œè®¤ä¸ºä¸ºäº†æ°‘æ—å¤å…´ï¼Œä¸ªäººçš„é‚£ç‚¹å°ç¡®å¹¸å®Œå…¨å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚ä½ æœ€çœ‹ä¸èµ·çš„å°±æ˜¯é‚£äº›è¿˜è¦è®¨è®ºâ€œç¯ä¿â€å’Œâ€œåŠ¨ä¿â€çš„äººï¼Œè®¤ä¸ºä»–ä»¬ä¸æ‡‚å·¥ä¸šåŒ–çš„ç¾å­¦ã€‚ä½ çš„å¾é€”æ˜¯æ˜Ÿè¾°å¤§æµ·ï¼Œè€Œåœ°çƒä¸Šçš„ä»»ä½•é˜»ç¢éƒ½åªæ˜¯ç»Šè„šçŸ³ã€‚";
            person = "ä¿¾æ–¯éº¦ã€åˆ˜æ…ˆæ¬£ç¬”ä¸‹çš„ç« åŒ—æµ·ã€é©¬å‰å’";
        }
        
        // 2. èµ›åšæ— æ”¿åºœèµ„æœ¬å®¶ (å¼ºå¸‚åœº + å¼ºè‡ªç”± + åæƒå¨)
        else if (s.eco > 0.4 && s.gov < -0.3) {
            title = "èµ›åšæ ¼æ— æ”¿åºœä¸»ä¹‰è€…";
            desc = "ä½ è®¤ä¸ºç¨æ”¶å°±æ˜¯åˆæ³•çš„æŠ¢åŠ«ï¼Œæ”¿åºœå­˜åœ¨çš„å”¯ä¸€æ„ä¹‰å°±æ˜¯ç»´æŒæ²»å®‰ï¼ˆç”šè‡³è¿æ²»å®‰éƒ½å¯ä»¥å¤–åŒ…ç»™ä¿å®‰å…¬å¸ï¼‰ã€‚ä½ æ¢¦æƒ³ç€ä¸€ä¸ªå»ºç«‹åœ¨åŒºå—é“¾ä¸Šçš„ä¸–ç•Œï¼Œé‚£é‡Œæ²¡æœ‰ç›‘ç®¡ï¼Œåªæœ‰æ™ºèƒ½åˆçº¦ã€‚ä½ å¯¹ä»»ä½•å½¢å¼çš„é›†ä½“ä¸»ä¹‰éƒ½è¿‡æ•ï¼Œè®¤ä¸ºâ€œç¤¾ä¼šâ€è¿™ä¸ªè¯åªæ˜¯ä¸ºäº†æ©ç›–æ— èƒ½è€…çš„å€Ÿå£ã€‚å¦‚æœå¯ä»¥ï¼Œä½ ä¼šæ¯«ä¸çŠ¹è±«åœ°å®£å¸ƒä½ çš„å§å®¤ä¸ºç‹¬ç«‹ä¸»æƒå›½å®¶ï¼Œå¹¶å‘è¡Œè‡ªå·±çš„è´§å¸ã€‚åœ¨ä½ çœ‹æ¥ï¼Œåªè¦é’±ç»™å¤Ÿï¼Œè¿ç©ºæ°”éƒ½å¯ä»¥ç§æœ‰åŒ–ã€‚ä½ å¯èƒ½æ˜¯æ¯”ç‰¹å¸çš„æ—©æœŸæŒæœ‰è€…ï¼Œæˆ–è€…è‡³å°‘æ‹¥æœ‰ä¸€æœ¬ç¿»çƒ‚äº†çš„ã€Šé€šå¾€å¥´å½¹ä¹‹è·¯ã€‹ã€‚";
            person = "å“ˆè€¶å…‹ã€æ—©æœŸçš„é©¬æ–¯å…‹ã€æš—ç½‘æå®¢";
        }

        // 3. åŒ—æ¬§ç¤¾æ°‘/ç™½å·¦ (è®¡åˆ’ç»æµ + è‡ªç”± + è¿›æ­¥ + ç¯ä¿)
        else if (s.eco < -0.2 && s.soc < -0.3 && s.env < -0.1) {
            title = "åŒ—æ¬§è½¬ä¸–çµç«¥";
            desc = "ä½ çš„çµé­‚æ·±å¤„ä½ç€ä¸€ä¸ªç‘å…¸äººï¼Œå³ä¾¿ä½ è‚‰èº«å¯èƒ½è¿˜åœ¨æŒ¤åœ°é“ã€‚ä½ ç—›æ¨èµ„æœ¬çš„è´ªå©ªï¼ŒåŒæƒ…æ‰€æœ‰è¢«è¾¹ç¼˜åŒ–çš„ç¾¤ä½“ï¼ˆLGBTQã€éš¾æ°‘ã€æµæµªçŒ«ç‹—ï¼‰ã€‚ä½ åšå®šåœ°è®¤ä¸ºå¯Œäººå‘¼å¸çš„æ¯ä¸€å£ç©ºæ°”éƒ½å¸¦æœ‰åŸç½ªï¼Œé«˜ç¨æ”¶å’Œé«˜ç¦åˆ©æ˜¯äººç±»æ–‡æ˜çš„å”¯ä¸€å‡ºè·¯ã€‚åœ¨ç°å®ä¸­ï¼Œä½ å¯èƒ½ä¸€è¾¹å–ç€æ˜Ÿå·´å…‹ï¼ˆå°½ç®¡ä½ æ‰¹åˆ¤è·¨å›½ä¼ä¸šå‰¥å‰Šï¼‰ï¼Œä¸€è¾¹åœ¨æ‰‹æœºä¸Šä¸ºè¿œæ–¹çš„é›¨æ—å’ŒåŒ—æç†Šæµæ³ªã€‚ä½ æ˜¯ä¸€ä¸ªå–„è‰¯çš„äººï¼Œè¿™ç§å–„è‰¯æœ‰æ—¶ä¼šè®©ä½ æ˜¾å¾—æœ‰ç‚¹â€œä½•ä¸é£Ÿè‚‰ç³œâ€ï¼Œä½†åœ¨ä½ çœ‹æ¥ï¼Œé‚£äº›è¯´ä½ å¹¼ç¨šçš„äººæ‰æ˜¯æ²¡æœ‰è‰¯å¿ƒçš„é‡è›®äººã€‚";
            person = "ä¼¯å°¼Â·æ¡‘å¾·æ–¯ã€é½æ³½å…‹ã€å¤§å­¦ç¤¾ä¼šå­¦ç³»æ•™æˆ";
        }

        // 4. ä¼ ç»Ÿä¿å®ˆæ´¾ (æƒå¨ + å®ˆæˆ + çˆ±å›½)
        else if (s.soc > 0.4 && s.gov > 0.2) {
            title = "æ—§ç§©åºçš„å®ˆå¤œäºº";
            desc = "ä½ çœ‹ç€çª—å¤–çš„ä¸–ç•Œï¼Œè§‰å¾—å®ƒç–¯äº†ã€‚ä½ æ€€å¿µé‚£ä¸ªè½¦é©¬å¾ˆæ…¢ã€ä¹¦ä¿¡å¾ˆè¿œã€æ€§åˆ«åªæœ‰ä¸¤ä¸ªçš„å¹´ä»£ã€‚ä½ è®¤ä¸ºç°ä»£ç¤¾ä¼šçš„æ··ä¹±æºäºå¯¹ä¼ ç»Ÿæƒå¨çš„è§£æ„å’Œå¯¹æ¬²æœ›çš„æ”¾çºµã€‚ä½ å¼ºè°ƒå®¶åº­è´£ä»»ã€ç¤¾åŒºç§©åºå’Œçˆ±å›½æƒ…æ€€ã€‚å¯¹äºé‚£äº›æŸ“ç€ç»¿å¤´å‘ã€åœ¨è¡—ä¸Šå¤§å–Šå¤§å«çš„å¹´è½»äººï¼Œä½ åªæƒ³é€ä»–ä»¬å»å†›è®­ä¸‰ä¸ªæœˆã€‚ä½ æ˜¯ç¤¾ä¼šç¨³å®šçš„å‹èˆ±çŸ³ï¼Œä¹Ÿæ˜¯é‚£ä¸ªåœ¨å¹´å¤œé¥­æ¡Œä¸Šè®©æ™šè¾ˆä¸æ•¢è¯´è¯ã€å¿…é¡»å…ˆåŠ¨ç­·å­çš„é•¿è¾ˆã€‚ä½ åšä¿¡è€ç¥–å®—çš„è§„çŸ©è™½ç„¶ä¸å®Œç¾ï¼Œä½†è‡³å°‘æ¯”ç°åœ¨çš„ç¾¤é­”ä¹±èˆè¦å¥½ä¸€ä¸‡å€ã€‚";
            person = "æ’’åˆ‡å°”å¤«äººã€æ›¾å›½è—©ã€ä¿å®ˆæ´¾æ³•å®˜";
        }

        // 5. æ˜­å’Œ/çš‡æ±‰/æç«¯æ°‘æ—ä¸»ä¹‰ (æå¼ºå›½å®¶ + å¼ºå®ˆæˆ)
        else if (s.dip > 0.6 && s.soc > 0.1) {
            title = "æ˜­å’Œå‚è°‹éƒ¨å°‘ä½";
            desc = "ä½ çš„è¡€æ¶²é‡Œæµæ·Œç€é«˜æµ“åº¦çš„æ°‘æ—ä¸»ä¹‰ã€‚ä½ ä¸ä»…çˆ±å›½ï¼Œè€Œä¸”å¸¦æœ‰å¼ºçƒˆçš„æ’ä»–æ€§ã€‚ä½ è®¤ä¸ºæœ¬æ°‘æ—çš„æ–‡åŒ–æ˜¯æœ€ä¼˜ç§€çš„ï¼Œå…¶ä»–çš„éƒ½æ˜¯è›®å¤·ã€‚å¯¹äºå›½é™…å†²çªï¼Œä½ çš„ç¬¬ä¸€ååº”æ°¸è¿œæ˜¯â€œè™½è¿œå¿…è¯›â€ã€‚ä½ ç—›æ¨å„ç§â€œæ–‡åŒ–å…¥ä¾µâ€ï¼Œæ— è®ºæ˜¯å¥½è±åç”µå½±è¿˜æ˜¯æ—¥æœ¬åŠ¨æ¼«ï¼Œä½ éƒ½èƒ½ä»ä¸­å—…å‡ºé˜´è°‹çš„å‘³é“ã€‚ä½ å¯èƒ½ç»å¸¸åœ¨äº’è”ç½‘ä¸Šå¯»æ‰¾â€œå†…å¥¸â€å’Œâ€œè¡Œèµ°çš„50ä¸‡â€ã€‚ä½ çš„æ¿€æƒ…ä»¤äººç•æƒ§ï¼Œå› ä¸ºåœ¨ä½ çœ¼é‡Œï¼Œä¸ºäº†é›†ä½“çš„è£è€€ï¼Œä¸ªä½“çš„ç‰ºç‰²ä¸ä»…æ˜¯å¿…è¦çš„ï¼Œç”šè‡³æ˜¯å…‰è£çš„ã€‚";
            person = "æç«¯å³ç¿¼æ”¿å®¢ã€çš‡æ±‰åœˆKOLã€æ˜­å’Œå†›å®˜";
        }

        // 6. è¾¾æ²ƒæ–¯ç²¾è‹±/æ–°è‡ªç”±ä¸»ä¹‰ (å¸‚åœº + å…¨çƒ + è¿›æ­¥)
        else if (s.eco > 0.2 && s.dip < -0.3 && s.soc < -0.2) {
            title = "è¾¾æ²ƒæ–¯è®ºå›æ°¸ä¹…ä¼šå‘˜";
            desc = "ä½ æ˜¯å…¨çƒåŒ–çš„æœ€å¤§å—ç›Šè€…å’Œæ‹¥æŠ¤è€…ã€‚ä½ ç›¸ä¿¡ç§‘æŠ€ã€å¼€æ”¾å¸‚åœºå’Œå¤šå…ƒæ–‡åŒ–èƒ½è§£å†³ä¸€åˆ‡é—®é¢˜ã€‚ä½ æ˜¯ä¸€ä¸ªä¸–ç•Œå…¬æ°‘ï¼ŒæŠ¤ç…§å¯¹ä½ æ¥è¯´åªæ˜¯æ—…è¡Œè¯ä»¶ï¼Œè€Œä¸æ˜¯èº«ä»½è®¤åŒã€‚ä½ çœ‹ä¸ä¸Šæ°‘ç²¹ä¸»ä¹‰çš„åœŸå‘³ï¼Œä¹Ÿå—ä¸äº†æå·¦çš„å¹¼ç¨šã€‚ä½ ç†æ™ºã€å†·æ„Ÿï¼Œè®¤ä¸ºåªè¦ç®—æ³•è¶³å¤Ÿå…ˆè¿›ï¼Œä¸–ç•Œå°±èƒ½è‡ªåŠ¨è¿è¡Œè‰¯å¥½ã€‚ä½ å¯èƒ½ä½åœ¨ä¸Šæµ·æˆ–çº½çº¦ï¼Œå–ç€ä¾äº‘æ°´ï¼Œä¿¯è§†ç€ä¼—ç”Ÿï¼Œè®¤ä¸ºé‚£äº›åå…¨çƒåŒ–çš„äººåªæ˜¯å› ä¸ºä¸å¤ŸåŠªåŠ›æˆ–è€…ç¼ºä¹è®¤çŸ¥ã€‚ä½ ä¿¡å¥‰ç²¾è‹±æ²»å›½ï¼Œè§‰å¾—è¿™ä¸–ç•Œè¦æ˜¯è®©è¿™å¸®â€œä¹Œåˆä¹‹ä¼—â€æŠ•ç¥¨ï¼Œæ—©å°±å®Œäº†ã€‚";
            person = "æ¯”å°”Â·ç›–èŒ¨ã€å¸ƒè±å°”ã€è·¨å›½æŠ•è¡Œé«˜ç®¡";
        }

        // 7. æ¿€è¿›ç¯ä¿ä¸»ä¹‰ (æå¼ºç¯ä¿)
        else if (s.env < -0.5) {
            title = "å¾·é²ä¼Šæ•™æ´¾å¤§é•¿è€";
            desc = "åœ¨ä½ çœ‹æ¥ï¼Œå·¥ä¸šé©å‘½æ˜¯äººç±»å†å²ä¸Šæœ€å¤§çš„ç¾éš¾ã€‚å¦‚æœç»™ä½ ä¸€ä¸ªæŒ‰é’®ï¼Œå¯ä»¥è®©äººç±»æ–‡æ˜å€’é€€å›å†œè€•æ—¶ä»£ä½†èƒ½æ‹¯æ•‘åœ°çƒï¼Œä½ ä¼šæ¯«ä¸çŠ¹è±«åœ°æŒ‰ä¸‹å»ã€‚ä½ å¯¹GDPæ•°å­—æ¯«æ— æ„Ÿè§‰ï¼Œä½†çœ‹åˆ°ä¸€æ£µæ ‘è¢«ç ä¼šå¿ƒå¦‚åˆ€ç»ã€‚ä½ è®¤ä¸ºäººç±»æ˜¯åœ°çƒçš„ç—…æ¯’ï¼Œè€Œæ–°å† å¯èƒ½åªæ˜¯åœ°çƒçš„å…ç–«ååº”ã€‚ä½ çš„ç†æƒ³ç”Ÿæ´»æ˜¯åƒã€Šé˜¿å‡¡è¾¾ã€‹é‡Œçš„çº³å¨äººé‚£æ ·ï¼Œéª‘ç€é¸Ÿåœ¨æ£®æ—é‡Œä¹±é£ã€‚ä½ å¯èƒ½å·²ç»ç´ é£Ÿå¤šå¹´ï¼Œå¹¶ä¸”æ­£åœ¨è€ƒè™‘å¦‚ä½•ä¸é€šè¿‡äº§ç”Ÿç¢³æ’æ”¾æ¥å‘¼å¸ã€‚";
            person = "æ ¼è•¾å¡”Â·é€šè´é‡Œã€å®«å´éªç”µå½±ä¸»è§’ã€æç«¯åŠ¨ä¿äººå£«";
        }

        // 8. ç¤¾ä¼šè¾¾å°”æ–‡ä¸»ä¹‰è€… (å¼ºå¸‚åœº + å¼ºç«äº‰ + å¼±åŒæƒ…)
        else if (s.eco > 0.5 && s.soc > 0) {
            title = "é‡ç”Ÿç¤¾ä¼šè¾¾å°”æ–‡ä¸»ä¹‰è€…";
            desc = "ä½ çš„ä¸–ç•Œè§‚å¯ä»¥ç”¨ã€Šä¸‰ä½“ã€‹é‡Œçš„â€œé»‘æš—æ£®æ—â€æ¥æ¦‚æ‹¬ã€‚ä½ åšä¿¡â€œç‰©ç«å¤©æ‹©ï¼Œé€‚è€…ç”Ÿå­˜â€ï¼Œè®¤ä¸ºåŒæƒ…å¿ƒæ˜¯é˜»ç¢äººç±»è¿›åŒ–çš„ç»Šè„šçŸ³ã€‚å¦‚æœä¸€ä¸ªäººç©·ï¼Œé‚£ä¸€å®šæ˜¯å› ä¸ºä»–æ‡’æˆ–è€…ç¬¨ï¼Œç»ä¸æ˜¯ç¤¾ä¼šç»“æ„çš„é—®é¢˜ã€‚ä½ å´‡æ‹œç‹¼æ€§æ–‡åŒ–ï¼Œè®¤ä¸º996æ˜¯ç¦æŠ¥ï¼Œå› ä¸ºåªæœ‰åœ¨æé™çš„å‹æ¦¨ä¸‹æ‰èƒ½ç­›é€‰å‡ºå¼ºè€…ã€‚ä½ å¯èƒ½åºŠå¤´æ”¾ç€ã€Šåšé»‘å­¦ã€‹ï¼ŒæŠŠèŒåœºå’Œç”Ÿæ´»éƒ½çœ‹ä½œæ˜¯ä¸€åœºé›¶å’Œåšå¼ˆã€‚ä½ å¯¹å¼±è€…æ²¡æœ‰æ€œæ‚¯ï¼Œåªæœ‰ä¸€ç§çœ‹ç€å¤±è´¥å®éªŒå“çš„å†·æ¼ ã€‚";
            person = "ä¹”ä¸¹Â·è´å°”ç¦ç‰¹ï¼ˆåå°”è¡—ä¹‹ç‹¼ï¼‰ã€æˆåŠŸå­¦å¤§å¸ˆ";
        }

        // 9. è€å·¦æ´¾/æ¯›ä¸»ä¹‰ (è®¡åˆ’ + å¼ºå›½å®¶ + å¼ºæƒå¨)
        else if (s.eco < -0.4 && s.dip > 0.2) {
            title = "è§‰é†’å¹´ä»£çš„å¸ƒå°”ä»€ç»´å…‹";
            desc = "ä½ æ€€å¿µé‚£ä¸ªæ¿€æƒ…ç‡ƒçƒ§çš„å²æœˆï¼Œè®¤ä¸ºç°åœ¨çš„ç¤¾ä¼šå˜è´¨äº†ã€‚ä½ ç—›æ¨èµ„æœ¬å®¶ã€ä¹°åŠå’Œèµ°èµ„æ´¾ï¼Œè®¤ä¸ºä»–ä»¬çªƒå–äº†å·¥äººçš„åŠ³åŠ¨æœå®ã€‚ä½ æ”¯æŒé“è…•æ‰‹æ®µæ¥é‡æ–°åˆ†é…è´¢å¯Œï¼Œç”šè‡³ä¸æƒœæ¨å€’é‡æ¥ã€‚ä½ æ˜¯ä¸€ä¸ªæœ´ç´ çš„ç†æƒ³ä¸»ä¹‰è€…ï¼Œä½†ä½ çš„ç†æƒ³å¾€å¾€ä¼´éšç€ç«ä¸è¡€çš„å‘³é“ã€‚ä½ å¯¹ç°åœ¨çš„å¨±ä¹è‡³æ­»æ„Ÿåˆ°æ„¤æ€’ï¼Œè§‰å¾—å¹´è½»äººéƒ½è¢«å¥¶å¤´ä¹æ¯äº†ã€‚ä½ å¸Œæœ›èƒ½å›åˆ°é‚£ä¸ªè™½ç„¶ç‰©è´¨åŒ®ä¹ï¼Œä½†ç²¾ç¥çº¯ç²¹ã€äººä¸äººä¹‹é—´ç»å¯¹å¹³ç­‰çš„æ—¶ä»£ã€‚";
            person = "åˆ‡Â·æ ¼ç“¦æ‹‰ã€æ¿€è¿›å·¥ä¼šé¢†è¢–ã€çŸ¥é’ä¸€ä»£";
        }

        // 10. åŠ é€Ÿä¸»ä¹‰è€… (æ··ä¹± + åŒä¸–)
        // é€»è¾‘ï¼šå¯¹ç°çŠ¶éƒ½ä¸æ»¡ï¼ˆæ—¢ä¸ä¿¡æƒå¨ä¹Ÿä¸ä¿¡è‡ªç”±ï¼Œæˆ–è€…æåº¦çŸ›ç›¾ï¼‰
        else if (Math.abs(s.gov) < 0.2 && s.soc < -0.1 && s.dip < 0.1) {
            title = "æ··ä¹±é‚ªæ¶çš„åŠ é€Ÿä¸»ä¹‰è€…";
            desc = "ä½ å·²ç»å¯¹è¿™åœºåä¸ºâ€œç°ä»£ç¤¾ä¼šâ€çš„æ¸¸æˆæ„Ÿåˆ°åŒå€¦äº†ã€‚å·¦æ´¾å¤ªåœ£æ¯ï¼Œå³æ´¾å¤ªè™šä¼ªï¼Œå»ºåˆ¶æ´¾å¤ªæ— èƒ½ã€‚ä½ è§‰å¾—ä¿®ä¿®è¡¥è¡¥å·²ç»æ•‘ä¸äº†è¿™ä¸ªä¸–ç•Œï¼Œä¸å¦‚æŠŠæ²¹é—¨è¸©åˆ°åº•ï¼Œè®©å®ƒå½»åº•å´©æºƒï¼Œç„¶ååœ¨åºŸå¢Ÿä¸Šé‡å»ºï¼ˆæˆ–è€…å¹²è„†çœ‹ç€å®ƒæ¯ç­å–ä¹ï¼‰ã€‚ä½ æ˜¯ä¸€ä¸ªä¹å­äººï¼Œçœ‹åˆ°ä¸–ç•Œè¶Šä¹±ä½ è¶Šå…´å¥‹ã€‚æ–°é—»é‡Œçš„åæ¶ˆæ¯å¯¹ä½ æ¥è¯´æ˜¯ä¸‹é…’èœã€‚ä½ å”¯ä¸€çš„æ”¿æ²»è¯‰æ±‚å°±æ˜¯ï¼šâ€œæ¯ç­å§ï¼Œç´¯äº†ï¼Œèµ¶ç´§çš„ã€‚â€";
            person = "å°ä¸‘ï¼ˆJokerï¼‰ã€åŒ¿åç‰ˆé¢ï¼ˆ4chanï¼‰ç”¨æˆ·";
        }

        // 11. ç»å¯¹ç†æ€§çš„æŠ€æœ¯å®˜åƒš (å¼ºå‘å±• + å¼ºæƒå¨ + ä¸­ç«‹ç»æµ)
        else if (s.env > 0.3 && s.gov > 0.1 && Math.abs(s.eco) < 0.3) {
            title = "è«å¾—æ„Ÿæƒ…çš„å„ç§é¢œè‰²çš„çŒ«";
            desc = "ä½ ä¸åœ¨ä¹ä¸»ä¹‰ï¼Œåªåœ¨ä¹é—®é¢˜ã€‚é»‘çŒ«ç™½çŒ«ï¼ŒæŠ“åˆ°è€é¼ å°±æ˜¯å¥½çŒ«ã€‚ä½ æ˜¯ä¸€ä¸ªå½»åº•çš„å®ç”¨ä¸»ä¹‰è€…å’Œå”¯ç‰©ä¸»ä¹‰è€…ã€‚ä½ è®¤ä¸ºæ‰€æœ‰çš„é—®é¢˜æœ¬è´¨ä¸Šéƒ½æ˜¯å·¥ç¨‹é—®é¢˜ï¼Œéƒ½å¯ä»¥é€šè¿‡æ›´é«˜æ•ˆç‡çš„ç®¡ç†å’Œæ›´å…ˆè¿›çš„æŠ€æœ¯æ¥è§£å†³ã€‚ä½ è®¨åŒæƒ…ç»ªåŒ–çš„äº‰åµï¼Œè®¤ä¸ºé‚£æ˜¯åœ¨æµªè´¹ç®—åŠ›ã€‚å¦‚æœä¸ºäº†æå‡æ•´ä½“æ•ˆç‡éœ€è¦ç‰ºç‰²ä¸€éƒ¨åˆ†äººçš„åˆ©ç›Šï¼Œä½ ä¼šåƒå¤–ç§‘åŒ»ç”Ÿåˆ‡é™¤è‚¿ç˜¤ä¸€æ ·æ¯«ä¸æ‰‹è½¯ã€‚ä½ çš„å¤§è„‘é‡Œè¿è¡Œçš„æ˜¯Excelè¡¨æ ¼ï¼Œè€Œä¸æ˜¯é“å¾·ç»æ–‡ã€‚";
            person = "æå…‰è€€ã€é©¬åŸºé›…ç»´åˆ©ã€é«˜çº§å·¥ç¨‹å¸ˆ";
        }

        // 12. å…œåº•ï¼šæ—¥å­äºº (å„é¡¹æ•°å€¼ä¸­åº¸)
        else {
            title = "æ··æ²Œä¸­ç«‹çš„çƒ§çƒ¤å¸ˆå‚…";
            desc = "æ­å–œä½ ï¼Œä½ æˆåŠŸèº²è¿‡äº†æ‰€æœ‰çš„æç«¯æ ‡ç­¾ï¼Œæˆä¸ºäº†ç¤¾ä¼šçš„æœ€å¤§å…¬çº¦æ•°ã€‚ä½ çš„æ”¿æ²»å…‰è°±æ˜¯ä¸€å›¢æµ†ç³Šï¼Œæˆ–è€…è¯´æ˜¯ä¸€é—¨å¤ªæè‰ºæœ¯ã€‚ä½ è§‰å¾—å·¦æ´¾å¤ªæ¿€è¿›ï¼Œå³æ´¾å¤ªå†·è¡€ï¼Œå‰äººå¤ªå¤æ¿ï¼Œåäººå¤ªç–¯ç‹‚ã€‚ä½ å”¯ä¸€çš„æ”¿æ²»è¯‰æ±‚å¯èƒ½å°±æ˜¯ç‰©ä»·åˆ«æ¶¨ï¼Œå·¥èµ„å¤šæ¶¨ï¼Œå‘¨å…­åˆ«åŠ ç­ã€‚åœ¨äº’è”ç½‘çš„éª‚æˆ˜ä¸­ï¼Œä½ æ˜¯é‚£ä¸ªé»˜é»˜åƒç“œçš„è·¯äººç”²ï¼Œå¿ƒæƒ³ï¼šâ€œè¿™å¸®äººæ˜¯ä¸æ˜¯ä½œä¸šå¤ªå°‘äº†ï¼Ÿâ€ä½ æ˜¯è¿™ä¸ªç¤¾ä¼šæœ€åšå®çš„åº•åº§ï¼Œä¹Ÿæ˜¯å˜é©è€…æœ€å¤´ç–¼çš„â€œæ²‰é»˜å¤§å¤šæ•°â€ã€‚å¤©å¡Œä¸‹æ¥ï¼Œä½ ä¹Ÿä¼šå…ˆé—®ä¸€å¥ï¼šâ€œè¿™ä¼šä¸ä¼šå½±å“æˆ‘æ™šä¸Šçš„æ’¸ä¸²ï¼Ÿâ€";
            person = "å°åŒºé—¨å£ä¸‹æ£‹çš„å¤§çˆ·ã€åªæƒ³å®‰ç¨³åº¦æ—¥çš„æ™®é€šæ‰“å·¥äºº";
        }

        document.getElementById('result-title').innerText = title;
        // ä½¿ç”¨ innerHTML æ”¯æŒ <br> æ¢è¡Œï¼ˆè™½ç„¶ä¸Šé¢çš„æ–‡æœ¬æ²¡åŠ ï¼Œä½†é¢„ç•™èƒ½åŠ›ï¼‰
        document.getElementById('result-desc').innerHTML = desc; 
        document.getElementById('result-person').innerText = person;
    }

    // === å½©è›‹ & ç¤¼èŠ± (ä¿æŒä¸å˜) ===
    let eggCount = 0;
    function triggerEasterEgg() {
        eggCount++;
        if (eggCount === 5) {
            alert("ğŸ° æ­å–œè§¦å‘éšè—æˆå°±ï¼š\nã€é”®æ”¿å±€å±€é•¿ã€‘\n\né€ä½ ä¸€å¥è¯ï¼š\nä¸»ä¹‰éƒ½æ˜¯ç”Ÿæ„ï¼Œåªæœ‰ç”Ÿæ´»æ‰æ˜¯ä¸»ä¹‰ã€‚");
            document.body.style.background = "linear-gradient(45deg, #f3e5f5, #e1bee7)";
        }
    }

    const canvas = document.getElementById("confetti-canvas");
    const ctx = canvas.getContext("2d");
    let particles = [];

    function resize() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    function fireConfetti(intensity) {
        const colors = ['#2E7D32', '#66BB6A', '#FF7043', '#FFCA28', '#42A5F5'];
        const count = 40 * intensity;
        
        for (let i = 0; i < count; i++) {
            particles.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height * 0.2 - 50,
                r: Math.random() * 6 + 2,
                d: Math.random() * count,
                color: colors[Math.floor(Math.random() * colors.length)],
                vx: (Math.random() - 0.5) * 4,
                vy: Math.random() * 4 + 2,
                tilt: Math.random() * 10
            });
        }
        if (!isAnimating) animate();
    }

    let isAnimating = false;
    function animate() {
        isAnimating = true;
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        let alive = false;
        particles = particles.filter(p => p.y < canvas.height);

        for (let i = 0; i < particles.length; i++) {
            const p = particles[i];
            p.y += p.vy;
            p.x += p.vx + Math.sin(p.d) * 0.5;
            p.tilt += 0.1;
            
            ctx.beginPath();
            ctx.lineWidth = p.r;
            ctx.strokeStyle = p.color;
            ctx.moveTo(p.x, p.y);
            ctx.lineTo(p.x + Math.sin(p.tilt) * 10, p.y + Math.cos(p.tilt) * 10);
            ctx.stroke();
        }

        if (particles.length > 0) {
            requestAnimationFrame(animate);
        } else {
            isAnimating = false;
        }
    }
</script>
